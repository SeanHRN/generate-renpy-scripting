Generate Ren'Py Scripting

v.1.1.1

This plugin generates a block of Ren'Py scripting based on the contents of the Krita document whose layer names follow the syntax used by the Krita Batch Exporter by GDQuest. The output file is automatically opened so that the text may be quickly copied and pasted into a Ren'Py script file. In Ren'Py, the images will display with the same positions on the Krita canvas (depending on the export options chosen).

How To Use
Batch-Export the Images, Correctly Formatted

The layers must be exported using the Krita Batch Exporter by GDQuest at the target scale percentage. GRS contains a calculator widget called the Scale Percentage Calculator to assist with that; when you enter a scale percentage, its output says the dimensions of the image at that scale. Find a scale percentage that's as close to your target resolution as possible (likely 1920 x 1080 px because that's the Ren'Py standard).

The Batch Exporter does not allow non-integer percentages, so for consistency the Scale Percentage Calculator is also integer-only, though GRS would still work with non-integer scales in the layer names; you just wouldn't also be able to run the Batch Exporter.

If you use the Batch Exporter's margin setting on a layer, the output will have the image nudged up and left that many pixels. If you choose more than one export size (for example, label a layer with [s=100,50] for 100% and 50% size output), the lower percentage would be used for the export calculations because that should be for the target resolution.

Choose Your Scripting Settings

The two export modes are for pos (x, y) statements and align (x, y) statements.

pos (x, y) Mode

pos (x, y) mode makes scripting to show the images at their locations by pixel coordinates (at the smallest scale provided).

align (x, y) Mode

align (x, y) mode makes scripting to show images at the nearest "align intersections", relative to the canvas's proportions. The align (x, y) spacing count is the number of evenly-distributed spaces (per axis) on which to align images by their centermost pixel. For example, selecting 5 spaces aligns the images to the positions [0.0, 0.25, 0.5, 0.75, 1.0] for both x and y, where 0.0 is left/up and 1.0 is right/down.

The Rule of Thirds toggle has the same effect of using 4 spaces: [0.0, 0.333, 0.666, 1.0]

Optional: Change the Output File Name

The output file is named rpblock.txt by default. If you wish to change the name of the output file, you may, but the purpose of this file is to be temporary in that you would use it to copy the Ren'Py text and then be done with it.

Output the File

Choose either of the export modes. You will be prompted for a location to save the file; I recommend the Desktop for easy deletion afterwards.

Add the Scripting to Your Ren'Py Project

Upon output, the file will be opened automatically in the system's default program for its file type (for example, Notepad for a .txt file on Windows). Copy and paste the full output into your Ren'Py project wherever you need it. Note that the output comes one indent in (because you would be pasting this under a label statement in your script) and with a pause statement at the end (because the script would just continue on its own otherwise).

Tweak the Scripting to Your Project's Needs

This plugin will get you started with the basic display scripting, but any further ATL statements must be written manually!
